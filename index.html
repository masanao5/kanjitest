<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>漢字テスト練習</title>
    <style>
        :root { --main: #333; --sub: #666; --win: #28a745; --lose: #dc3545; --bg: #f4f7f6; }
        body { font-family: "Helvetica Neue", Arial, "Hiragino Sans", sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; margin: 0; }
        .container { background: white; width: 100%; max-width: 450px; padding: 25px; border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); text-align: center; }
        h1 { font-size: 1.4rem; color: var(--main); margin-bottom: 20px; }
        
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; table-layout: fixed; }
        th, td { border: 2px solid #eee; padding: 25px 5px; font-size: 1.4rem; overflow-wrap: break-word; }
        th { background: #fafafa; font-size: 0.8rem; padding: 10px; color: var(--sub); border: 1px solid #eee; }
        .ans-text { font-family: "Yu Mincho", "MS Mincho", serif; font-weight: bold; font-size: 2rem; }
        .is-hidden { color: transparent; text-shadow: 0 0 15px rgba(0,0,0,0.15); user-select: none; }

        .btns { display: flex; flex-direction: column; gap: 12px; }
        button { padding: 16px; font-size: 1.1rem; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-blue { background: #4a90e2; color: white; box-shadow: 0 4px 0 #357abd; }
        .btn-blue:active { transform: translateY(2px); box-shadow: none; }
        .judge-btns { display: none; gap: 12px; }
        .btn-ok { background: var(--win); color: white; flex: 1; box-shadow: 0 4px 0 #218838; }
        .btn-ng { background: var(--lose); color: white; flex: 1; box-shadow: 0 4px 0 #c82333; }
        
        .info { margin-top: 25px; font-size: 0.85rem; color: var(--sub); line-height: 1.6; background: #f8f9fa; padding: 10px; border-radius: 8px; }
    </style>
</head>
<body>

<div class="container">
    <h1>漢字テスト練習</h1>

    <table>
        <tr><th>問題</th><th>正解</th></tr>
        <tr>
            <td id="q-box">---</td>
            <td id="a-box" class="ans-text is-hidden">？</td>
        </tr>
    </table>

    <div class="btns">
        <button id="show-btn" class="btn-blue" onclick="reveal()">正解を見る</button>
        <div id="judge-box" class="judge-btns">
            <button class="btn-ng" onclick="result(false)">× 不正解</button>
            <button class="btn-ok" onclick="result(true)">○ 正解！</button>
        </div>
    </div>

    <div class="info" id="info">準備中...</div>
</div>

<script>
    /**
     * Excelからコピーしたデータをここに貼り付けました。
     * ダブルクォーテーションが含まれていても問題ない形式にしています。
     */
    const excelPasteData = `
授業料が"メンジョ"される。	免除
疑いがはれて"ホウメン"になる。	放免
"ユウレイ"が出たといううわさ。	幽霊
兄が運転"メンキョ"をとる。	免許
能に"ユウゲン"を感じる。	幽玄
車を駐車場に"ユウドウ"する。	誘導
クラブに"カンユウ"する。	勧誘
知らせに一喜"イチユウ"する。	一憂
国の将来を"うれえる"。	憂える
国旗を"ケイヨウ"する。	掲揚
天ぷらを"あげる"。	揚げる
たこが"あがる"。	揚がる
心が"ドウヨウ"する。	動揺
木の葉が"ゆれる"。	揺れる
決心が"ゆらぐ"。	揺らぐ
木を"ゆする"。	揺する
心を"ゆさぶる"音楽。	揺さぶる
自由主義を"ヨウゴ"する.	擁護
新人候補を"ヨウリツ"する。	擁立
我が子を"ホウヨウ"する。	抱擁
"ヨクヨウ"をつけて朗読する。	抑揚
怒りを"おさえる"。	抑える
杉や松は"ラシ"植物である。	裸子
"はだか"のままの赤ん坊。	裸
予算を"ランピ"する。	濫費
小説を"ランドク"する。	濫読
水産資源を"ランカク"する。	濫獲
"カンリ"を登用する。	官吏
村役場の"リイン"になる。	吏員
地盤が"リュウキ"する。	隆起
藤原氏が"リュウセイ"をきわめる。	隆盛
申し出を"リョウショウ"する。	了承
"シュウリョウ"証書をもらう。	修了
任期"マンリョウ"で勇退する。	満了
"リョウケン"をはなつ。	猟犬
"シュリョウ"が解禁になる。	狩猟
野山に"リョウ"にでかける。	猟
なだらかな"キュウリョウ"地帯。	丘陵
奈良県には"リョウボ"が多い。	陵墓
"ショクリョウ"管理制度。	食糧
"リョウマイ"をたくわえる。	糧米
三割二分"五リン"の打率。	五厘
日歩五十銭"ハチリン"の利子。	八厘
九分"クリン"まちがいない。	九厘
選手を"ゲキレイ"する。	激励
仕事に"はげむ"。	励む
おちこんだ人を"はげます"。	励ます
"レイサイ"な規模の会社。	零細
"レイカ"五度の寒さに耐える。	零下
貴族が"レイラク"する。	零落
ヒトやサルは"レイチョウルイ"だ。	霊長類
戦没者の"イレイヒ"が建つ。	慰霊碑
細胞が"ブンレツ"する。	分裂
両手で布を"さく"。	裂く
落雷で木の幹が"さける"。	裂ける
"レンカ"で販売する。	廉価
"セイレン"潔白な性格の人。	清廉
基礎を"レンセイ"する問題集。	錬成
鉄を"セイレン"する工場。	精錬
日頃の"シュウレン"のたまもの。	修練
"ロ"ばた焼きの店で食べる。	炉
"ヨウコウロ"の火が消える。	溶鉱炉
"ゲンシロ"をとりこわす。	原子炉
時間を"ロウヒ"するのはよくない。	浪費
"ハロウ"注意報が出された。	波浪
"ホウロウ"の旅をしている。	放浪
"ロウカ"を静かに歩く。	廊下
"ガロウ"で展覧会を開く。	画廊
砂上の"ロウカク"に等しい。	楼閣
ニューヨークの"マテンロウ"。	摩天楼
"ロウデン"に気をつける。	漏電
雨水が"もれる"。	漏れる
話し声が"もれる"。	漏れる
船が"ワンナイ"に停泊する。	湾内
大きく"ワンキョク"した枝。	湾曲
"トウキョウワン"でとれた魚。	東京湾
"ひめぎみ"にお会いする。	姫君
竜宮城のお"ひめさま"。	姫様
太平洋を"ヒョウリュウ"する。	漂流
無人島に"ヒョウチャク"した。	漂着
おだやかな雰囲気が"ただよう"。	漂う
"なえ"を育てる。	苗
"なわしろ"をつくる。	苗代
支店長として"フニン"する。	赴任
新しい任地に"おもむく"。	赴く
休止の"フゴウ"を書き入れる。	符号
"オンプ"に従い歌ってみる。	音符
往復の"キップ"を買い求める。	切符
切手と"フウトウ"を買いにいく。	封筒
手紙を"カイフウ"する。	開封
"ホウケンテキ"な制度。	封建的
手紙が物語の"フクセン"になる。	伏線
"キフク"に富んだ地形。	起伏
地に"ふせる"。	伏せる
"テンプク"事故を防止する。	転覆
雪が山を"おおう"。	覆う
"フンシツ"した紙が見つかる。	紛失
人ごみに"まぎれる"。	紛れる
王族の"フンボ"を発掘する。	墳墓
"コフン"の出土品をみる。	古墳
あの人は"ケッペキ"な人だ。	潔癖
「できる。」が"くちぐせ"だ。	口癖
社員"ボシュウ"の広告を出す。	募集
標語を一般から"コウボ"する。	公募
新入部員を"つのる"。	募る
上級生に"ボジョウ"をいだく。	慕情
師を"ケイボ"する。	敬慕
いとしい人を恋い"したう"。	慕う
商業"ボキ"を習う。	簿記
店の"チョウボ"をつける。	帳簿
卒業生"メイボ"を作る。	名簿
"ホウコウ"があたりに漂う。	芳香
"ゴホウメイ"を記入してください。	御芳名
在留"ホウジン"に歓迎される。	邦人
"ホウガク"を鑑賞する。	邦楽
シェークスピアの"ホウヤク"。	邦訳
地域の"ホウシ"活動をする。	奉仕
絵馬を"ホウノウ"する。	奉納
町"ブギョウ"が裁定する。	奉行
つくしの"ホウシ"が落ちる。	胞子
"サイボウ"分裂して数が増える。	細胞
異国で"ドウホウ"と再会する。	同胞
大家の作品を"モホウ"する。	模倣
"ホウラク"事故を防ぐ。	崩落
"やまくずれ"が起きる。	山崩れ
敵陣の一角を"くずす"。	崩す
"ホウワ"状態になる。	飽和
食べ"あきる"。	飽きる
傷口を"ホウゴウ"する。	縫合
暇に"あかして"読書をする。	飽かして
"サイホウ"が上手になる。	裁縫
日本は地下資源に"とぼしい"。	乏しい
すそのほつれを"ぬう"。	縫う
物資が"ケツボウ"する。	欠乏
守備の"ボウガイ"をする。	妨害
勉強の"さまたげ"になる。	妨げ
"ダンボウ"装置をとりつける。	暖房
ひとふさのぶどうを"もぐ"。	捥ぐ
"ボウショ"で会合を開く。	某所
"ボウコク"の首相が来日した。	某国
"ボウダイ"な人口の東京。	膨大
予算が"ボウチョウ"する。	膨張
大きく夢が"ふくらむ"。	膨らむ
"ムボウ"な行動はしない。	無謀
自ら"サンボウヤク"を務める。	参謀役
"ボクジュウ"で字を書く。	墨汁
"スイボクガ"を学ぶ。	水墨画
床の間に"すみエ"をかける。	墨絵
仕事に"ボットウ"する。	没頭
"ニチボツ"で試合が中止になる。	日没
日本語を英語に"ホンヤク"する。	翻訳
"マホウ"つかいが登場する童話。	魔法
"マジュツ"のショー。	魔術
そこにいては"ジャマ"になる。	邪魔
"マイゾウキン"のありかを探る。	埋蔵金
宝物を"うめる"。	埋める
花に"うもれる"。	埋もれる
耳の奥にある"コマク"。	鼓膜
"サイボウマク"を顕微鏡でみる。	細胞膜
のどの"ネンマク"がはれて痛む。	粘膜
人間的な"ミリョク"にひかれる.	魅力
"ミワクテキ"な美しさの宝石だ。	魅惑的
観客を"ミリョウ"する演技。	魅了
帝国が"メツボウ"する。	滅亡
身を"ほろぼす"。	滅ぼす
`.trim();

    const rawData = excelPasteData.split('\n').map(line => {
        const parts = line.split('\t');
        return { q: parts[0]?.trim(), a: parts[1]?.trim() };
    }).filter(item => item.q && item.a);

    let items = rawData.map((d, i) => ({ ...d, id: i+1, w: 100, ok: false }));
    let current = null;

    function next() {
        const totalW = items.reduce((s, i) => s + i.w, 0);
        let r = Math.random() * totalW;
        for (let i of items) {
            if (r < i.w) { current = i; break; }
            r -= i.w;
        }

        document.getElementById('q-box').innerText = current.q;
        document.getElementById('a-box').innerText = current.a;
        document.getElementById('a-box').classList.add('is-hidden');
        document.getElementById('show-btn').style.display = "block";
        document.getElementById('judge-box').style.display = "none";
        updateInfo();
    }

    function reveal() {
        document.getElementById('a-box').classList.remove('is-hidden');
        document.getElementById('show-btn').style.display = "none";
        document.getElementById('judge-box').style.display = "flex";
    }

    function result(isOk) {
        if (isOk) {
            current.w = 1;
            current.ok = true;
        } else {
            current.w += 200;
        }
        next();
    }

    function updateInfo() {
        const okCount = items.filter(i => i.ok).length;
        document.getElementById('info').innerHTML = 
            `進捗: ${okCount} / ${items.length} 問マスター<br>` +
            `<small>※未出題・不正解の問題が優先されます</small>`;
    }

    next();
</script>
</body>
</html>
